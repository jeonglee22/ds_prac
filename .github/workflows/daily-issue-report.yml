name: Daily Issue Report (Done / InProgress / Todo)


on:
schedule:
- cron: '0 0 * * *' # 00:00 UTC = 09:00 KST
workflow_dispatch: {}


jobs:
  run:
    runs-on: ubuntu-latest
    permissions:
      contents: read
      issues: read
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: npm ci
      - name: Classify issues & (optionally) export to Notion
        run: npm start
        env:
          GH_TOKEN: ${{ secrets.GH_TOKEN }}
          TARGET_REPOS: ${{ vars.TARGET_REPOS }} # e.g. your-org/repo-a,your-org/repo-b
          TIMEZONE: Asia/Seoul
          PLAN_TODAY_LABEL: plan:today
          EXCLUDE_ACTORS: github-actions[bot],some-ci-bot # optional, comma sep
          # Notion export (optional)
          NOTION_TOKEN: ${{ secrets.NOTION_TOKEN }}
          NOTION_DB_ID: ${{ secrets.NOTION_DB_ID }}